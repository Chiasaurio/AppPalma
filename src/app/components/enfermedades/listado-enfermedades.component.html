<div class="container mt-3">
    <form [formGroup]="NombreEnfermedadForm" (ngSubmit)="enviarEnfermedad()">


        <div class="row">
            <div class="col">
                <h4> Enfermedades </h4>
            </div>
            <div class="col">
                <app-fecha> </app-fecha>
            </div>
        </div>

        <div class="row mb-3">
            <p>Estas son la enfermedades registradas hasta el momento </p>
        </div>

        <div *ngIf="bandera" class="alert alert-danger" role="alert">
            <i class="fas fa-exclamation-triangle"></i> {{ mensaje_error }}
        </div>

        <div class="row" *ngIf="!bandera">
            <table class="table table-hover">
                <thead>
                    <tr class="table-success">
                        <th></th>
                        <th scope="col">Enfermedad</th>
                        <th scope="col">Tratamiento</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let enfermedad of enfermedades; let i=index">
                        <td>
                            <input type="radio" id={{i}} value=enfermedad-{{enfermedad.nombre_enfermedad}} name="nombre_enfermedad" formControlName="nombre_enfermedad">
                        </td>
                        <td>
                            <label class="form-check-label" for="enfermedad.nombre_enfermedad">
                        {{ enfermedad.nombre_enfermedad }}   
                        </label>
                        </td>
                        <td> {{ enfermedad.procedimiento_tratamiento_enfermedad }} </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!---->

        <table class="table table-hover">
            <thead>
                <tr class="table-success row">
                    <th class="col-1"></th>
                    <th class="col-3"> Nombre </th>
                    <th class="col-3"> Etapa </th>
                    <th class="col-5"> Procedimiento </th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let enfermedad of enfermedadesEtapas; let i=index" class="row">
                    <td class="col-1"> <input type="radio" id={{i}} value=etapa-{{enfermedad.id_enfermedad}} name="nombre_enfermedad" formControlName="nombre_enfermedad"> </td>
                    <td class="col-3">
                        <label class="form-check-label" for="enfermedad.nombre_enfermedad">
                            {{ enfermedad[0].nombre_enfermedad }} 
                        </label>
                    </td>
                    <td class="col-8">
                        <table class="container-fluid">
                            <tbody>
                                <tr class="row" *ngFor="let etapaTratamiento of enfermedad">
                                    <td class="col-5" style=" border: transparent; padding-top: unset;"> {{ etapaTratamiento.etapa_enfermedad }} </td>
                                    <td class="col-7" style=" border: transparent; padding-top: unset; padding-left: unset;"> {{ etapaTratamiento.tratamiento_etapa_enfermedad }} </td>
                                </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
            </tbody>
        </table>

        <div class="row">
            <div class="col">
                <button type="button" class="btn btn-outline-info btn-block" [routerLink]="['/nueva-enfermedad']">
            <i class="fas fa-plus-circle"></i>
            AÃ±adir enfermedad 
            </button>
            </div>
            <!--<div class="col">
                <button type="button" class="btn btn-info btn-block" [routerLink]="['/nueva-enfermedad']">
                <i class="fas fa-plus-circle"></i>
                AÃ±adir etapas 
            </button>
            </div>-->
        </div>
        <div class="row mt-2">
            <i class="fas fa-exclamation-circle"></i> <small> Para eliminar o editar debe seleccionar primero una enfermedad.</small>
        </div>
        <div class="row mt-2">
            <div class="col">
                <button type="button" class="btn btn-outline-danger btn-block"> 
                <i class="fas fa-trash"></i>
                Eliminar 
            </button>
            </div>
            <div class="col">
                <button type="submit" class="btn btn-outline-warning btn-block" (click)="editarEnfermedad()">
                <i class="fas fa-pencil-alt"></i>
                Editar 
            </button>
            </div>
        </div>
    </form>
</div>




<!--<div class="container mt-3">
    <a [routerLink]="['/lotes']" class="btn btn-outline-danger"> Regresar </a>
</div>-->